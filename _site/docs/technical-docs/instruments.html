<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Instruments - Neural Dynamics of Control Laboratory</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Instruments | Neural Dynamics of Control Laboratory</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Instruments" /> <meta property="og:locale" content="en_US" /> <meta property="og:site_name" content="Neural Dynamics of Control Laboratory" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Instruments" /> <script type="application/ld+json"> {"@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://www.ndclab.com/wp-content/uploads/2020/05/NDCLabWebLogo.png"}},"url":"/docs/technical-docs/instruments.html","headline":"Instruments","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/welcome" class="nav-list-link">Welcome</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/welcome/lab-culture.html" class="nav-list-link">Lab Culture</a></li><li class="nav-list-item "><a href="/docs/welcome/whos-who.html" class="nav-list-link">Who's Who</a></li><li class="nav-list-item "><a href="/docs/welcome/cog-control.html" class="nav-list-link">Cognitive Control</a></li><li class="nav-list-item "><a href="/docs/welcome/lab-structure.html" class="nav-list-link">Lab Structure</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/onboarding" class="nav-list-link">Onboarding</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/Onboarding/overview.html" class="nav-list-link">Overview</a></li><li class="nav-list-item "><a href="/docs/Onboarding/certifications.html" class="nav-list-link">Certifications</a></li><li class="nav-list-item "><a href="/docs/Onboarding/ccf-access.html" class="nav-list-link">CCF Access</a></li><li class="nav-list-item "><a href="/docs/Onboarding/accessing-hpc.html" class="nav-list-link">HPC Access</a></li><li class="nav-list-item "><a href="/docs/Onboarding/ad-account.html" class="nav-list-link">AD Account</a></li><li class="nav-list-item "><a href="/docs/Onboarding/slack-setup.html" class="nav-list-link">Slack Setup</a></li><li class="nav-list-item "><a href="/docs/Onboarding/get-with-git.html" class="nav-list-link">Get with Git</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/around-the-lab" class="nav-list-link">Around the Lab</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/around-the-lab/community-standards.html" class="nav-list-link">Community Standards</a></li><li class="nav-list-item "><a href="/docs/around-the-lab/roles-expectations.html" class="nav-list-link">Roles & Expectations</a></li><li class="nav-list-item "><a href="/docs/around-the-lab/lab-meeting.html" class="nav-list-link">Lab Meetings</a></li><li class="nav-list-item "><a href="/docs/around-the-lab/report-concerns.html" class="nav-list-link">Reporting Concerns</a></li><li class="nav-list-item "><a href="/docs/around-the-lab/taking-time.html" class="nav-list-link">Taking Time Away</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/etiquette" class="nav-list-link">Etiquette</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/etiquette/naming-conventions.html" class="nav-list-link">Naming Conventions</a></li><li class="nav-list-item "><a href="/docs/etiquette/programming-standards.html" class="nav-list-link">Programming Standards</a></li><li class="nav-list-item "><a href="/docs/etiquette/github-etiquette.html" class="nav-list-link">GitHub Etiquette</a></li><li class="nav-list-item "><a href="/docs/etiquette/github-templates.html" class="nav-list-link">GitHub Templates</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/current-projects" class="nav-list-link">Current Projects</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/current-projects/social-context-alpha.html" class="nav-list-link">social-context-alpha</a></li><li class="nav-list-item "><a href="/docs/current-projects/rwe-alpha.html" class="nav-list-link">rwe-alpha</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/technical-docs" class="nav-list-link">Technical Documentation</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/technical-docs/docker-usage.html" class="nav-list-link">Docker</a></li><li class="nav-list-item "><a href="/docs/technical-docs/git_and_github.html" class="nav-list-link">Git + GitHub</a></li><li class="nav-list-item active"><a href="/docs/technical-docs/instruments.html" class="nav-list-link active">Instruments</a></li><li class="nav-list-item "><a href="/docs/technical-docs/pavlovia.html" class="nav-list-link">Pavlovia + GitLab</a></li><li class="nav-list-item "><a href="/docs/technical-docs/pepper-usage.html" class="nav-list-link">PEPPER</a></li><li class="nav-list-item "><a href="/docs/technical-docs/python-ci-workflow.html" class="nav-list-link">Python CI Workflow</a></li><li class="nav-list-item "><a href="/docs/technical-docs/shell.html" class="nav-list-link">Shell</a></li><li class="nav-list-item "><a href="/docs/technical-docs/zenhub.html" class="nav-list-link">ZenHub</a></li><li class="nav-list-item "><a href="/docs/technical-docs/zotero.html" class="nav-list-link">Zotero</a></li></ul></li><li class="nav-list-item"><a href="/docs/contributing.html" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/hpc" class="nav-list-link">HPC</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/hpc/accessing.html" class="nav-list-link">Accessing the HPC</a></li><li class="nav-list-item "><a href="/docs/hpc/R.html" class="nav-list-link">R</a></li><li class="nav-list-item "><a href="/docs/hpc/matlab.html" class="nav-list-link">Matlab</a></li><li class="nav-list-item "><a href="/docs/hpc/jobs.html" class="nav-list-link">Job Submission</a></li><li class="nav-list-item "><a href="/docs/hpc/status.html" class="nav-list-link">HPC Status</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/NDCLab/wiki" class="site-button" > NDC Lab on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/technical-docs">Technical Documentation</a></li> <li class="breadcrumb-nav-list-item"><span>Instruments</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><img src="https://raw.githubusercontent.com/NDCLab/wiki/main/docs/_assets/technical/inst_automation-header.jpg" alt="robots in a factory" /><br /> <em>Basically what instruments does, but without the robot or the factory or the chips.</em></p> <p>Self-administered surveys are a popular method of research, and are used to measure certain metrics that pertain to participant emotional states or opinions. But their excessive utility is often matched by their excessive analytical tedium. Imagine you have 150 participants that filled multiple surveys on paper. This would involve scoring by hand, a hardly interesting endeavor to take on while conducting research.</p> <p>A solution would be to collect data via the internet and then apply code to automatically generate metrics. The <code class="language-plaintext highlighter-rouge">instruments</code> repository aims to accomplish exactly that.</p> <h3 id="contents"> <a href="#contents" class="anchor-heading" aria-labelledby="contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contents </h3> <ol> <li><a href="#overview">Overview</a></li> <li><a href="#usage">Usage</a></li> <li><a href="#adding-new-instruments">Adding New Instruments</a></li> </ol> <h2 id="overview"> <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview </h2> <p>The instruments repository is a collection of coding scripts that interpret a .json file and construct a unique survey object, which is then used to automatically score any input, as provided by the command line.</p> <p><em>For the less comp sci savvy</em>: the instruments script will automatically code the questionnaires that you have participants complete into the standard total scores and subscores.</p> <h2 id="usage"> <a href="#usage" class="anchor-heading" aria-labelledby="usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Usage </h2> <h3 id="study-setup-using-an-existing-instrument"> <a href="#study-setup-using-an-existing-instrument" class="anchor-heading" aria-labelledby="study-setup-using-an-existing-instrument"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Study Setup: Using an Existing Instrument </h3> <ol> <li>Clone the repository to your local machine.</li> <li>Use the published PDF for submission to the FIU IRB.</li> <li>Import the .zip to REDCap. Note that the .zip file uses <code class="language-plaintext highlighter-rouge">_s1_r1_e1</code>. These numerical values may need to be adjusted to meet the specific needs of your study’s protocol; this requires changing the numerical values in the instrument name (within REDCap) and also the numerical values <strong>in each variable</strong>. No other change should be made to the variable names: other changes will break the link with the automated scoring script. See further details on the lab’s <a href="https://ndclab.github.io/wiki/docs/etiquette/naming-conventions.html#redcap">naming conventions for REDCap surveys</a>.</li> <li>Save REDCap data to the HPC in accordance with your data collection protocol.</li> </ol> <h3 id="preprocessing-data"> <a href="#preprocessing-data" class="anchor-heading" aria-labelledby="preprocessing-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Preprocessing Data </h3> <ol> <li> <p>Log into the HPC <a href="https://ndclab.github.io/wiki/docs/technical-docs/hpc-doc.html#connecting">using the Visual Node</a>. Launch Panther Shell Access: <img src="https://raw.githubusercontent.com/NDCLab/wiki/main/docs/_assets/technical/inst_open-shell.png" alt="inst_open-shell" /></p> </li> <li> <p>You will be prompted to enter your password when the shell opens. Type in your password and hit Enter. The console will not show you that you are typing while inputting your password, but forge ahead! <img src="https://raw.githubusercontent.com/NDCLab/wiki/main/docs/_assets/technical/inst_input-password.png" alt="inst_input-password" /></p> </li> <li>Once you’ve logged into the HPC, navigate to the instruments repo located in the HPC by entering the following command: <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd /home/data/NDClab/tools/instruments
</code></pre></div> </div> </li> <li> <p>We can use the script <code class="language-plaintext highlighter-rouge">process.sub</code> located in the <code class="language-plaintext highlighter-rouge">hpc/</code> folder to analyze data. First, we need to swap the string paths located below the comment that says “edit variables here to change inputs and outputs.” You can edit files directly from the terminal by executing <code class="language-plaintext highlighter-rouge">nano hpc/process.sub</code>.</p> <p>Example paths are in-place already. You will overwrite portions of each of the three lines:</p> <ol> <li>Replace “this-is-some-dataset” in the <code class="language-plaintext highlighter-rouge">project</code> variable to specify which project folder the data resides in. Examples of project folders are “rwe-dataset” or “memory-for-error-dataset.”</li> <li>Replace “DATA” in the <code class="language-plaintext highlighter-rouge">input_file</code> variable to specify exactly which file should be processed.</li> <li> <p>Replace “DATA” in the <code class="language-plaintext highlighter-rouge">output-file</code> variable to specify the file name you want for the processed version of the .csv.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> # edit variables here to change inputs and outputs
 project="this-is-some-dataset"
 input_file="/home/data/NDClab/datasets/$project/sourcedata/raw/DATA.csv"
 output_file="/home/data/NDClab/datasets/$project/derivatives/DATA.csv"
</code></pre></div> </div> </li> </ol> </li> <li>Lastly you can run this script by executing the command <code class="language-plaintext highlighter-rouge">sbatch hpc/process.sub</code>. This will output data to the <code class="language-plaintext highlighter-rouge">output_file</code> path that you’ve specified. Happy analyzing!</li> </ol> <h2 id="adding-new-instruments"> <a href="#adding-new-instruments" class="anchor-heading" aria-labelledby="adding-new-instruments"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adding New Instruments </h2> <ol> <li>Follow the lab’s <a href="https://ndclab.github.io/wiki/docs/etiquette/github-etiquette.html">GitHub etiquette</a> to create a new branch off dev (<code class="language-plaintext highlighter-rouge">dev-NewInstrumentName</code>).</li> <li>Create a new directory with the instrument’s short name.</li> <li>Add all of the following to the new directory: the published PDF, the REDCap PDF (shows exactly what participants see), and a REDCap import .zip that follows the lab’s <a href="https://ndclab.github.io/wiki/docs/etiquette/naming-conventions.html#redcap">naming conventions</a>. All REDCap import .zip files in the instruments repository should use <code class="language-plaintext highlighter-rouge">_s1_r1_e1</code>.</li> <li>Add the (sub)score(s) for the instrument to the .json file with the appropriate parameters as described in subscore.py for subscale scoring.</li> <li>Add the instrument, alphabeticaly, into the list-of-instruments.md with a link to the appropriate citation.</li> <li>Push your branch to the remote, then open a PR and assign to the lab manager.</li> </ol> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2022 Neural Dynamics of Control Laboratory</p> </footer> </div> </div> </div> </body> </html>
